<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimensionamento de Componentes para Motores Trifásicos WEG EM UM MINUTO</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        form { max-width: 400px; }
        label { display: block; margin: 10px 0 5px; }
        input, select { width: 100%; padding: 8px; margin-bottom: 10px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        #resultado { margin-top: 20px; border: 1px solid #ddd; padding: 15px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<!-- Substitua o <body> original pelo código abaixo -->

<body>
    <h1>Dimensionamento de Componentes para Motores Trifásicos WEG <span style="color: red;">EM 1 MINUTO</span></h1>
    <form id="formMotor">
        <label for="potencia">Potência do Motor (HP):</label>
        <input type="number" id="potencia" min="0.5" max="100" step="0.5" value="5" required>

        <label for="tensao">Tensão de Ligação (V):</label>
        <select id="tensao" required>
            <option value="127">127 V</option>
            <option value="220">220 V</option>
            <option value="380">380 V</option>
        </select>

        <label for="tipoLigacao">Tipo de Ligação:</label>
        <select id="tipoLigacao" required>
            <option value="direta">Ligação Direta</option>
            <option value="direta_reversao">Direta com Reversão</option>
            <option value="estrela_triangulo">Estrela-Triângulo</option>
            <option value="estrela_triangulo_reversao">Estrela-Triângulo com Reversão</option>
        </select>

        <button type="submit">Calcular Dimensionamento</button>
    </form>

    <div id="resultado" style="display: none;">
        <h2>Resultados do Dimensionamento</h2>
        <p><strong>Tensão:</strong> <span id="tensaoSelecionada"></span>V | <strong>FLA:</strong> <span id="flaValor"></span> A</p>

        <h3>Componentes Elétricos</h3>
        <table>
            <thead>
                <tr>
                    <th>Componente</th>
                    <th>Recomendação</th>
                    <th>Quantidade</th>
                </tr>
            </thead>
            <tbody id="tabelaComponentes">
                <!-- Preenchido via JS -->
            </tbody>
        </table>

        <h3>Lista de Materiais (Comando)</h3>
        <ul id="listaMateriais">
            <!-- Preenchido via JS -->
        </ul>

        <h3>Diagrama de Ligação</h3>
        <img id="diagramaImg" src="" alt="Diagrama de ligação" style="max-width: 100%; border: 1px solid #ccc; margin-top: 10px;">
        <p><small>Valores baseados em catálogos WEG. Consulte manual oficial para aplicação exata.</small></p>
    </div>

    <script>
        // Tabelas de FLA por tensão (aproximadas - base WEG 380V, ajustadas por fator)
        const baseFLA380 = {
            0.5: 1.0, 1: 1.8, 1.5: 2.5, 2: 3.2, 3: 4.5, 5: 7.5,
            7.5: 10.8, 10: 14, 15: 21, 20: 27, 25: 33, 30: 39,
            40: 51, 50: 62, 60: 74, 75: 90, 100: 120
        };

        // Fatores de correção de corrente por tensão (I ∝ 1/V)
        const fatorTensao = { 127: 380/127, 220: 380/220, 380: 1 };

        // Disjuntor MPW
        function getDisjuntor(FLA) {
            if (FLA <= 1.6) return 'MPW12 - 0.1-1.6A';
            if (FLA <= 2.5) return 'MPW12 - 0.1-2.5A';
            if (FLA <= 4) return 'MPW12 - 2.5-4A';
            if (FLA <= 6.3) return 'MPW12 - 4-6.3A';
            if (FLA <= 10) return 'MPW18 - 6-10A';
            if (FLA <= 16) return 'MPW18 - 10-16A';
            if (FLA <= 25) return 'MPW40 - 16-25A';
            if (FLA <= 32) return 'MPW40 - 25-32A';
            if (FLA <= 40) return 'MPW40 - 32-40A';
            if (FLA <= 63) return 'MPW65 - 40-63A';
            if (FLA <= 100) return 'MPW100 - 63-100A';
            return 'Consultar WEG';
        }

        // Contator CWB
        function getContator(FLA) {
            const rating = Math.ceil(FLA / 9) * 9;
            return `CWB${rating} (AC-3 ≥ ${rating}A)`;
        }

        // Cabo
        function getCabo(FLA) {
            const amp = FLA * 1.25;
            if (amp <= 16) return '1,5 mm²';
            if (amp <= 21) return '2,5 mm²';
            if (amp <= 28) return '4 mm²';
            if (amp <= 36) return '6 mm²';
            if (amp <= 47) return '10 mm²';
            if (amp <= 62) return '16 mm²';
            if (amp <= 80) return '25 mm²';
            return '35 mm² ou maior';
        }

        // Lista de materiais por tipo
        const materiais = {
            direta: {
                contatores: 1,
                botoeiras: '1 botão liga (verde)',
                sinalizacao: '1 LED verde (ligado)',
                reversao: false
            },
            direta_reversao: {
                contatores: 2,
                botoeiras: '1 botão liga sentido 1, 1 botão liga sentido 2, 1 botão desliga',
                sinalizacao: '2 LEDs (sentido 1 e 2)',
                reversao: true
            },
            estrela_triangulo: {
                contatores: 3,
                botoeiras: '1 botão partida, 1 botão desliga',
                sinalizacao: '1 LED verde (ligado), 1 LED amarelo (estrela)',
                reversao: false
            },
            estrela_triangulo_reversao: {
                contatores: 6,
                botoeiras: '2 botões partida (sentido 1 e 2), 1 botão desliga',
                sinalizacao: '3 LEDs (sentido 1, sentido 2, estrela)',
                reversao: true
            }
        };

        // Diagramas (use imagens reais ou placeholders)
        const diagramas = {
            direta: 'https://i.imgur.com/AbCdEfG.png', // Substitua por link real
            direta_reversao: 'https://i.imgur.com/XyZ1234.png',
            estrela_triangulo: 'https://i.imgur.com/123AbCd.png',
            estrela_triangulo_reversao: 'https://i.imgur.com/987XyZ1.png'
        };

        document.getElementById('formMotor').addEventListener('submit', function(e) {
            e.preventDefault();
            const hp = parseFloat(document.getElementById('potencia').value);
            const tensao = parseInt(document.getElementById('tensao').value);
            const tipo = document.getElementById('tipoLigacao').value;

            const flaBase = baseFLA380[hp] || (hp * 0.746 * 1000 / (Math.sqrt(3) * 380 * 0.85 * 0.88));
            const FLA = flaBase * fatorTensao[tensao];
            const mat = materiais[tipo];

            // Componentes
            const disjuntor = getDisjuntor(FLA);
            const contator = getContator(FLA);
            const cabo = getCabo(FLA);

            // Preenche tabela
            const tbody = document.getElementById('tabelaComponentes');
            tbody.innerHTML = `
                <tr><td>Disjuntor Termomagnético</td><td>${disjuntor}</td><td>1</td></tr>
                <tr><td>Contator Principal</td><td>${contator}</td><td>${tipo.includes('estrela') ? '3' : (mat.contatores)}</td></tr>
                <tr><td>Cabo de Alimentação</td><td>${cabo}</td><td>3F + T</td></tr>
            `;

            // Lista de materiais
            const lista = document.getElementById('listaMateriais');
            lista.innerHTML = `
                <li><strong>Contator(es):</strong> ${mat.contatores} unid. ${contator}</li>
                <li><strong>Botoeiras:</strong> ${mat.botoeiras}</li>
                <li><strong>Sinalização:</strong> ${mat.sinalizacao}</li>
                <li><strong>Relé Térmico:</strong> 1 unid. (ajustar para ${FLA.toFixed(1)}A)</li>
                <li><strong>Disjuntor:</strong> 1 unid. ${disjuntor}</li>
                ${mat.reversao ? '<li><strong>Intertravamento elétrico e mecânico</strong> entre contatores</li>' : ''}
            `;

            // Diagrama
            document.getElementById('diagramaImg').src = diagramas[tipo] || 'https://via.placeholder.com/600x400?text=Diagrama+Indispon%C3%ADvel';
            document.getElementById('tensaoSelecionada').textContent = tensao;
            document.getElementById('flaValor').textContent = FLA.toFixed(1);

            document.getElementById('resultado').style.display = 'block';
        });
    </script>
</body>
</html>
